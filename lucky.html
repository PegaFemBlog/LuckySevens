<!DOCTYPE html>
<html>
<head>
	<title>Lucky Sevens</title>
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
	<script type="text/javascript" src="main.js"></script>
</head>
<br>
	<br>
<body style="background-color: black;">
<div class="container" style="background-color: green; border: 6px dashed red; border-radius: 8px; padding: 40px;" >
<form class="form" style="padding: 30px; display: block;">
<div class="container-fluid" style="padding: 50px; margin-left: 250px;">
	<form class="form">
	<img src="dice.png" style="height: 250px; width: 450px;" class="center">
		<h1 style="font-weight: bold; font-size: 55px;">Lucky Sevens</h1>
			<label style="font-weight: bold; color: white; margin: 3px;">Starting Bet:  </label><input type="text" id="betInput" value="$0.00"><br>
			<button type="button" id="playAgain" onclick="hireRebeccaB()" style="margin-left: 150px; margin-top: 5px;">Play</button>
	</form>
</div>
<div style="text-align:center;" id="houseAlwaysWins"></div>

<script>

function hireRebeccaB(){

var betInput = document.getElementById("betInput").value;

var money = 0;
var die1 = 0;
var die2 = 0;
var dice = 0;
var rollCount = 0;
var badLuck = 0;
var money = betInput;
var amountHeld = [betInput];
var win = 4;
var moneyLost = 1;
var maxHeld = 0;

	do {
		//random number for dice with six sides
		//counter for the number or time the dice was rolled
		rollCount++;
		die1 = Math.floor(Math.random() * 6) + 1;
		die2 = Math.floor(Math.random() * 6) + 1;	
		dice = die1+die2;

			// if player WINS add $4 to "money" to use for bets
			if (dice == 7){
			money = money+win; 
			var lastElement = amountHeld[amountHeld.length -1]; 				
			var lastUpdated = lastElement + win;
			amountHeld.push(lastUpdated);
			}
			// this allows us to get value of last element of moneyHeld array 
			//Used to show current money held by player after last roll
			//adds $4 to previous roll winnings and stores in lastUpdated


			// if player LOOSES subtract $1 to "money" used for bets
			else {
			money--;
			badLuck++;
			var lastElement = amountHeld[amountHeld.length -1];
			var lastUpdated = lastElement - moneyLost;
			amountHeld.push(lastUpdated);
			rollCount = rollCount++;
			}


	} while(money>0);
	var totalMax = 0;
	// find th max value in amountHeld array
		totalMax = Math.max.apply(Math, amountHeld); 
	// find the number of rolls till max amountHeld array
		numRolls = amountHeld.indexOf(totalMax); 
	if(numRolls<1){
		numRolls = 0;
	}

	document.getElementById("houseAlwaysWins").innerHTML=("<center><br><br><table style=\"width: 100% height: 100%; color: white; font-weight: bold; \"><th colspan=\"2\"; class=\"th1\">Results</th><tr><th class=\"th2\">Intial Starting Bet</th><th class=\"th2\">$" + betInput + ".00</th></tr><tr><td>Rolls Before the House Won Everything!  </td><td> "+ rollCount +" </td></tr><tr><td>Highest Amount Won</td><td>"+totalMax+"</td></tr><tr><td>Roll Count at Highest Amount Held</td><td>"+ numRolls + "</td></tr></table></center>");
	document.getElementById("playAgain").innerHTML="Play Again";

} //------------------------------------------End of Game --------------------------------- House Wins Again!-------------------------------
</script>
<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
</body>
</html>
